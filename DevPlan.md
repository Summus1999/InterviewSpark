# InterviewSpark 开发阶段计划

## 项目概述

InterviewSpark 是一款 AI 驱动的 Windows 桌面应用，帮助求职者通过模拟面试和结构化复盘分析提升面试技巧。本文档详细规划项目实现的五个开发阶段。

---

## Phase 1: 基础框架搭建

**目标**: 完成项目基础架构搭建，确保开发环境配置完整，Tauri + Rust + Vue 框架可正常运行。

**周期**: Week 1-2

**状态**: ✅ 已完成

### 功能清单

- [x] Tauri 项目初始化和配置
  - 创建 Tauri 项目结构
  - 配置 tauri.conf.json（窗口大小、应用名称、图标等）
  - 配置能力文件 (capabilities)

- [x] Rust 后端基础模块
  - 设置 Cargo.toml 依赖管理
  - 创建基础的 lib.rs 和 main.rs 结构
  - 实现简单的 Rust 命令系统（IPC 通信基础）

- [x] Vue 3 + TypeScript 前端框架
  - 初始化 Vue 3 项目结构
  - 配置 TypeScript 类型检查
  - 搭建基础页面布局（主窗口、菜单导航）
  - 配置 Vite 构建工具

- [x] 项目配置与工程化
  - 配置 .gitignore（排除 node_modules、target、dist 等）
  - 设置 ESLint 和 Prettier（代码风格统一）
  - 配置 package.json 脚本（dev、build、tauri 命令）

### 交付标准

- ✅ 应用能在开发环境成功编译运行
- ✅ 前端页面能正常显示并响应基础交互
- ✅ Rust 后端能接收并处理简单的前端请求
- ✅ 完整的开发环境文档 (在 README.md 中说明编译和运行步骤)

### 测试验证记录

**测试日期**: 2025-12-18

**测试项目**:
1. ✅ 前端构建成功 (vite build - 566ms)
2. ✅ Rust 编译成功 (cargo build - 29.97s)
3. ✅ 应用启动正常 (npm run tauri:dev)
4. ✅ IPC 通信测试通过 (greet 命令响应正常)
5. ✅ 代码规范检查通过 (ESLint + Prettier)

**验证结论**: Phase 1 基础框架搭建完成，所有功能正常运行。

---

## Phase 2: 核心文本交互

**目标**: 实现文本驱动的面试模拟闭环，集成硅基流动 API 进行问题生成和分析。

**周期**: Week 3-4

### 功能清单

- [ ] 硅基流动 API 集成
  - 注册和配置硅基流动 API 凭证
  - 实现 API 调用封装（Rust 端）
  - 错误处理和重试机制

- [ ] 用户输入模块
  - 简历文本输入界面（Vue 组件）
  - 岗位描述 (JD) 输入界面
  - 表单验证和数据收集

- [ ] AI 问题生成功能
  - 调用硅基流动 API，基于简历和 JD 生成面试问题
  - 支持多个问题一次性生成
  - 前端展示生成的问题列表

- [ ] 用户答题交互
  - 实时显示当前问题
  - 用户输入答案界面
  - 答题进度管理（显示第 X / 总数问题）

- [ ] AI 文本分析与反馈
  - 调用硅基流动 API 分析用户答案
  - 评估答案的逻辑性、岗位匹配度、关键词覆盖
  - 生成具体改进建议

### 交付标准

- 用户能完整完成一次模拟面试（输入简历 → 生成问题 → 回答 → 获得反馈）
- API 调用稳定，错误处理完善
- 前端界面清晰易用，交互流畅

---

## Phase 3: 数据持久化

**目标**: 集成 SQLite 数据库，持久化用户数据和面试记录。

**周期**: Week 5

### 功能清单

- [ ] SQLite 数据库设计
  - 设计数据库 Schema（用户表、面试记录表、题库表等）
  - 创建初始化脚本
  - 数据迁移机制

- [ ] Rust 数据访问层 (DAL)
  - 集成 sqlx 或 rusqlite 库
  - 实现用户数据 CRUD 操作
  - 实现面试记录存储和查询

- [ ] 用户信息存储
  - 存储简历内容
  - 存储岗位描述
  - 用户基础配置

- [ ] 面试记录存储
  - 保存每次模拟面试的完整记录
  - 包括：生成的问题、用户答案、AI 反馈、时间戳等
  - 支持按日期和岗位查询

- [ ] 题库功能
  - 用户可收藏高频问题
  - 保存优化后的答案版本
  - 支持题库的增删改查

### 交付标准

- 数据能正确存储和检索
- 应用重启后数据不丢失
- 支持基础查询功能（按日期、岗位筛选）

---

## Phase 4: 语音能力集成

**目标**: 集成语音识别和合成功能，实现真正的对话式模拟面试。

**周期**: Week 6-7

### 功能清单

- [ ] SenseVoice 语音识别集成
  - 下载和配置 SenseVoice 本地模型
  - 集成语音识别库到 Rust 后端
  - 实现实时语音流处理
  - 支持中文识别和情感分析

- [ ] 语音识别前端界面
  - 实现"开始录音"按钮
  - 实时显示识别进度
  - 显示识别结果
  - 支持重新录制

- [ ] Piper TTS 语音合成集成
  - 下载和配置 Piper TTS 模型
  - 集成文本转语音库到 Rust 后端
  - 支持多种中文音色选择

- [ ] 语音播放功能
  - AI 面试官语音播报问题
  - 自动播放或用户点击播放
  - 音量和播放速度控制

- [ ] 语音交互流程优化
  - AI 自动检测用户答题完成（沉默时长判断）
  - 自动播放下一个问题或反馈
  - 支持手动跳过和重复功能

### 交付标准

- 语音识别准确率达到 90% 以上（中文）
- 语音合成音质自然，用户体验良好
- 整个语音交互流程连贯，无明显延迟

---

## Phase 5: 复盘分析系统

**目标**: 完善复盘报告的多维度分析和可视化展示。

**周期**: Week 8-9

### 功能清单

- [ ] 多维度分析引擎
  - 内容维度：逻辑性、岗位匹配度、关键词覆盖
  - 表达维度：语速、停顿、清晰度（调用硅基流动 API 或本地语音分析）
  - 综合维度：综合评分、优点总结、不足分析、优化方向

- [ ] 复盘报告生成
  - 调用硅基流动 API 生成详细分析报告
  - 包含：题目回顾、答案评价、改进建议、参考答案
  - 支持报告导出（PDF / 文本格式）

- [ ] 成长曲线追踪
  - 统计多次模拟的评分变化
  - 可视化展示评分趋势（折线图）
  - 显示强项和弱项的变化

- [ ] 可视化仪表板
  - 用户概览：总面试次数、平均分、改进项
  - 题目热度排行：最常被问的问题
  - 薄弱领域：需要加强的方向
  - 最近面试记录列表

- [ ] 历史记录管理
  - 查看历史面试详情
  - 对比不同时期的答案
  - 支持删除和备份功能

- [ ] 数据分析后端
  - 实现统计查询（平均分、通过率等）
  - 实现趋势计算算法
  - 性能优化（对大量数据的查询）

### 交付标准

- 报告内容完整且有价值，能指导用户改进
- 可视化图表清晰易读
- 用户能清晰看到自己的成长轨迹
- 系统整体性能流畅（即使数据量较大）

---

## 阶段依赖关系

```
Phase 1 (基础框架)
    ↓
Phase 2 (核心文本交互)
    ↓
Phase 3 (数据持久化)
    ↓
Phase 4 (语音能力集成)
    ↓
Phase 5 (复盘分析系统)
```

**说明**: 每个阶段依赖前一个阶段完成，建议严格按序进行，避免并行开发导致集成困难。

---

## 质量标准

所有阶段交付均需满足：

- 代码规范：遵循项目规范文档 (sparkRules.md)
- 测试覆盖：关键功能有单元测试或集成测试
- 文档完整：代码有注释，功能有使用说明
- 性能要求：页面加载时间 < 2s，API 调用响应时间 < 5s

---

## 风险与备选方案

| 风险 | 影响 | 备选方案 |
|------|------|--------|
| 硅基流动 API 调用费用过高 | 项目成本增加 | 评估本地开源模型集成（如 LLaMA） |
| SenseVoice 模型加载过慢 | 用户体验下降 | 改用讯飞语音识别 API（云端） |
| SQLite 性能不足（大数据量） | 查询缓慢 | 迁移至 PostgreSQL |
| 语音识别准确率不够 | 体验不佳 | 调整模型参数或增加训练数据 |

